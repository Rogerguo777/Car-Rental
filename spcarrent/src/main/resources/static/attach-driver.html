<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <title>附駕接送服務</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .card:hover {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
        }

        .disabled {
            pointer-events: none;
            opacity: 0.5;
        }
    </style>
</head>

<body>
    <div class="container py-5">
        <h3 class="headline mb-4">設置接送條件</h3>
        <form id="conditionForm">
            <div class="mb-3">
                <label>姓名</label>
                <input type="text" id="userName" class="form-control" required>
            </div>

            <div class="mb-3">
                <label>電話（10碼）</label>
                <input type="tel" id="userPhone" class="form-control" pattern="\\d{10}" required>
            </div>

            <div class="mb-3">
                <label>Email</label>
                <input type="email" id="userEmail" class="form-control" required>
            </div>

            <!-- 出發地 -->
            <div class="mb-3">
                <label>出發地點</label>
                <select id="pickupPlace" class="form-select" required>
                    <option value="">請選擇</option>
                    <optgroup label="台灣機場">
                        <option>松山國際機場</option>
                        <option>桃園國際機場</option>
                        <option>清泉崗國際機場</option>
                        <option>小港國際機場</option>
                    </optgroup>
                    <optgroup label="台灣高鐵">
                        <option>高鐵-台北站</option>
                        <option>高鐵-台中站</option>
                        <option>高鐵-台南站</option>
                        <option>高鐵-左營站</option>
                    </optgroup>
                    <optgroup label="都會接送">
                        <option>台北市</option>
                        <option>台中市</option>
                        <option>高雄市</option>
                    </optgroup>
                </select>
            </div>
            <!-- 目的地 -->
            <div class="mb-3">
                <label>目的地點</label>
                <select id="dropoffPlace" class="form-select" required>
                    <option value="">請選擇</option>
                    <optgroup label="台灣機場">
                        <option>松山國際機場</option>
                        <option>桃園國際機場</option>
                        <option>清泉崗國際機場</option>
                        <option>小港國際機場</option>
                    </optgroup>
                    <optgroup label="台灣高鐵">
                        <option>高鐵-台北站</option>
                        <option>高鐵-台中站</option>
                        <option>高鐵-台南站</option>
                        <option>高鐵-左營站</option>
                    </optgroup>
                    <optgroup label="都會接送">
                        <option>台北市</option>
                        <option>台中市</option>
                        <option>高雄市</option>
                    </optgroup>
                </select>
            </div>
            <div class="mb-3">
                <label>日期</label>
                <!-- min 設定為今天 -->
                <input type="date" id="pickupDate" class="form-control" required>
            </div>
            <div class="mb-3">
                <label>時間</label>

                <input type="time" id="pickupTime" class="form-control" required>
            </div>
            <!-- 按鈕 -->
            <div class="form-btnbox text-end">
                <button type="button" id="showVehiclesBtn" class="btn btn-dark" onclick="showVehicles()">選擇車輛</button>
            </div>
        </form>

        <!-- Step 2：車款選擇 -->
        <div id="step2" class="row mt-5" style="display: none;">
            <h5 class="mb-4">請選擇車型</h5>
        </div>

        <!-- Step 3：表單區塊 -->
        <form id="step3" style="display:none;" class="mt-5">
            <div class="text-end mb-3">
                <button type="button" class="btn btn-outline-secondary" onclick="goBackToStep2()">回車輛選擇</button>
            </div>
            <h5 class="mb-3">填寫乘車資訊</h5>
            <div class="mb-3">
                <label>選擇車型</label>
                <input type="text" id="vehicleName" class="form-control" readonly>
            </div>
            <div class="mb-3">
                <label>乘客人數</label>
                <input type="number" id="passengerCount" class="form-control" min="1">
            </div>

            <div class="mb-3" id="luggageSection">
                <label>是否需要行李</label>
                <select id="luggage" class="form-select">
                    <option value="no" selected>不需要</option>
                    <option value="yes">需要</option>
                </select>
            </div>

            <!-- 行李件數：一開始隱藏 
            <div class="mb-3" id="luggageCount" style="display: none;">
                <label>行李件數</label>
                <input type="number" id="luggageNum" class="form-control" min="1">
            </div>-->

            <div class="mb-3">
                <label>是否需要舉牌服務（+200元）</label>
                <select class="form-select" id="signage">
                    <option value="yes">是</option>
                    <option value="no">否</option>
                </select>
            </div>

            <!-- 顯示距離與費用 -->
            <div class="mb-3">
                <label>預估距離（公里）</label>
                <input type="text" id="distance" class="form-control" readonly>
            </div>
            <div class="mb-3">
                <label>預估費用</label>
                <input type="text" id="price" class="form-control" readonly>
            </div>

            <!--<button type="button" class="btn btn-success" onclick="calculatePrice()">計算費用</button>-->
            <button type="button" class="btn btn-primary ms-2" onclick="submitOrder()">送出訂單</button>

            
            <!-- 備用按鈕，隱藏的成功跳轉按鈕 -->
            <button type="button" id="successBtn" style="display:none;" onclick="location.href='order-success.html'">
                按此跳轉
            </button>

        </form>
    </div><br>
    <script src="../static/js/attach-driver.js"></script>

</body>

</html>